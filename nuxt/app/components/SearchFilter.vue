<script setup lang="ts">
interface Props {
  searchTerm: string
  selectedCategory: string
}

const props = defineProps<Props>()
const emit = defineEmits<{
  'update:searchTerm': [value: string]
  'update:selectedCategory': [value: string]
}>()

const categories = ['all', 'æ€ç»´æ¨¡åž‹', 'ç»“æž„åŒ–æé—®', 'æ·±åº¦è¿½é—®', 'å†³ç­–åˆ†æž', 'åˆ›æ–°çªç ´', 'å­¦ä¹ æˆé•¿']

const onSearchInput = (event: Event) => {
  emit('update:searchTerm', (event.target as HTMLInputElement).value)
}
</script>

<template>
  <div class="filter-section">
    <div class="search-box">
      <input
        type="text"
        :value="props.searchTerm"
        placeholder="ðŸ” æœç´¢æ–¹æ³•è®º..."
        @input="onSearchInput"
      />
    </div>
    <div class="filter-tags">
      <button
        v-for="cat in categories"
        :key="cat"
        :class="['filter-tag', props.selectedCategory === cat ? 'active' : '']"
        @click="emit('update:selectedCategory', cat)"
      >
        {{ cat === 'all' ? 'å…¨éƒ¨' : cat }}
      </button>
    </div>
  </div>
</template>
